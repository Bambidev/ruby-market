<%= form_with(model: [:admin, user], class: "space-y-6") do |form| %>
  <% if user.errors.any? %>
    <div class="bg-rust/10 border-2 border-rust p-4 mb-6">
      <h2 class="font-display font-bold text-rust text-lg mb-2">
        <%= pluralize(user.errors.count, "error") %> impidieron guardar este usuario:
      </h2>

      <ul class="list-disc list-inside text-sm text-rust-dark space-y-1">
        <% user.errors.each do |error| %>
          <li><%= error.full_message %></li>
        <% end %>
      </ul>
    </div>
  <% end %>

  <div>
    <%= form.label :full_name, "Nombre Completo", class: "label-retro" %>
    <%= form.text_field :full_name, class: "input-retro", placeholder: "Ej: Juan Pérez" %>
  </div>

  <div>
    <%= form.label :email, "Email", class: "label-retro" %>
    <%= form.email_field :email, class: "input-retro", placeholder: "juan@ejemplo.com" %>
  </div>

  <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
    <div>
      <%= form.label :password, "Contraseña", class: "label-retro" %>
      <%= form.password_field :password, class: "input-retro", placeholder: "••••••" %>
      <div class="text-xs text-sepia mt-1">Dejar en blanco para mantener la actual</div>
    </div>

    <div>
      <%= form.label :password_confirmation, "Confirmar Contraseña", class: "label-retro" %>
      <%= form.password_field :password_confirmation, class: "input-retro", placeholder: "••••••" %>
    </div>
  </div>

  <div>
    <%= form.label :role, "Rol", class: "label-retro" %>
    <%= form.select :role, User.roles.keys.map { |role| [role.humanize, role] }, {}, class: "select-retro" %>
  </div>

  <div class="pt-4">
    <%= form.submit "Guardar Usuario", class: "btn-primary w-full cursor-pointer" %>
  </div>
<% end %>
