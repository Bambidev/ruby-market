<% content_for :title, "#{@disk.title} - Backstore" %>

<article class="card-retro overflow-hidden">
  <div class="grid grid-cols-1 lg:grid-cols-2">
    <!-- Left Column - Vinyl Visual -->
    <div class="bg-vinyl-black p-8 lg:p-12 flex flex-col items-center justify-center min-h-[350px] relative overflow-hidden">
      <div class="absolute inset-0 opacity-10" style="background-image: repeating-radial-gradient(circle at center, transparent 0, transparent 2px, rgba(255,255,255,.1) 2px, rgba(255,255,255,.1) 4px);"></div>
      
      <div class="relative z-10">
        <div class="w-48 h-48 sm:w-64 sm:h-64 vinyl-record vinyl-spin-hover"></div>
      </div>
      
      <div class="absolute top-4 left-4 flex gap-2">
        <span class="badge-retro bg-cream text-vinyl-black"><%= @disk.format %></span>
        <span class="badge-retro bg-<%= @disk.state == 'Nuevo' ? 'teal' : 'sepia' %> text-cream"><%= @disk.state %></span>
      </div>
    </div>

    <!-- Right Column - Info -->
    <div class="p-8 lg:p-12 bg-paper">
      <div class="mb-6">
        <h1 class="font-display text-3xl sm:text-4xl font-bold text-vinyl-black leading-tight mb-2">
          <%= @disk.title %>
        </h1>
        <p class="text-xl text-sepia font-display"><%= @disk.artist %></p>
      </div>

      <% if @disk.description.present? %>
        <p class="text-vinyl-dark leading-relaxed mb-6"><%= @disk.description %></p>
      <% end %>

      <div class="grid grid-cols-2 gap-4 mb-6">
        <div class="bg-cream-dark p-4 border-2 border-vinyl-black">
          <span class="label-retro">Ano</span>
          <p class="font-display text-2xl font-bold text-vinyl-black"><%= @disk.year %></p>
        </div>
        <div class="bg-cream-dark p-4 border-2 border-vinyl-black">
          <span class="label-retro">Stock</span>
          <p class="font-display text-2xl font-bold <%= @disk.stock > 0 ? 'text-teal' : 'text-rust' %>">
            <%= @disk.stock > 0 ? @disk.stock : 'Agotado' %>
          </p>
        </div>
      </div>

      <div class="bg-vinyl-black text-cream p-6 mb-8 border-4 border-mustard">
        <div class="flex items-center justify-between">
          <span class="text-mustard uppercase tracking-wider font-bold">Precio</span>
          <span class="font-display text-4xl font-bold text-mustard">
            $<%= number_to_currency(@disk.price, unit: '', delimiter: '.', separator: ',', precision: 0) %>
          </span>
        </div>
      </div>

      <!-- Admin Actions -->
      <div class="flex flex-wrap gap-3 pt-6 border-t-2 border-vinyl-groove">
        <%= link_to "Editar", edit_admin_disk_path(@disk), class: "btn-primary" %>
        <%= button_to "Eliminar", [:admin, @disk], method: :delete, form: { data: { turbo_confirm: "Estas seguro de eliminar este disco?" } }, class: "btn-danger" %>
        <%= link_to "Volver", admin_disks_path, class: "btn-secondary" %>
      </div>
    </div>
  </div>
</article>
